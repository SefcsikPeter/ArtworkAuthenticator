<div class="row">
  <button class="col-2 btn btn-primary" routerLink="/home" style="height: 100%">
    Go Back
  </button>
  <h1 class="col-8 display-4 title-h1">Results</h1>
</div>
<div class="input-area row d-flex col-12">
  <!-- INPUT -->
  <div class="col-4">
    <ul class="list-group">
      <li class="list-group-item"> Title: {{artwork.title}}</li>
      <li class="list-group-item"> Artist: {{formatName(artwork.artist)}}</li>
      <li class="list-group-item"> Gallery: {{artwork.gallery}}</li>
      <li class="list-group-item"> Price: {{artwork.price}}</li>
      <li class="list-group-item" data-bs-toggle="collapse" href="#desc" aria-expanded="false" aria-controls="desc">
        Description and Other Information (click to expand):
      </li>
    </ul>
    <div class="collapse" id="desc">
      <div class="card card-body">
        {{artwork.description}}
      </div>
    </div>
  </div>
  <div class="col-4">
    <div class="mb-3 d-flex justify-content-center align-items-center" style="min-height: 0;">
      <img [src]="this.artwork.image" alt="Image preview" style="max-width: 100%; max-height: 100%; object-fit: contain;">
    </div>
  </div>
  <div class="col-4">
    <h1 class="display-5"> Artist Recognition Network Results: </h1>
    <ul class="list-group">
      <li class="list-group-item"> Top 1 result: {{this.top1Artist}} {{this.top1ArtistProb}}%</li>
      <li class="list-group-item"> Selected: {{this.selectedArtist}} {{this.selectedArtistProb}}%</li>
    </ul>
  </div>
</div>

<div>
  <h1 class="display-5">
    GPT Results:
  </h1>
  <p class="txt">
    {{this.result.gptResult}}
  </p>
</div>

<div *ngIf="messagePairs[0]">
  <h1 class="display-6">
    Feedback Conversation:
  </h1>
  <div *ngFor="let m of messagePairs">
    <p class="txt-indicator">
      User:
    </p>
    <p class="txt">
      {{m.userMessage}}
    </p>
    <p class="txt-indicator">
      GPT-4:
    </p>
    <p class="txt">
      {{m.gptResponse}}
    </p>
  </div>
</div>

<div>
  <h1 class="display-6">
    Give Feedback To GPT-4:
  </h1>
  <form [formGroup]="feedback" (ngSubmit)="sendFeedback()">
    <div class="row">
      <div class="col-10">
        <textarea class="form-control" formControlName="text"></textarea>
      </div>
      <div class="col-2">
        <button class="btn btn-primary w-100 h-100" >Send Fedback</button>
      </div>
    </div>
  </form>
</div>

<div class="spacer"></div>
